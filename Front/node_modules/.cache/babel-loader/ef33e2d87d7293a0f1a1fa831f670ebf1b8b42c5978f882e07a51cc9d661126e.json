{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\ricky_and_morty\\\\Client\\\\Front\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport { Fragment } from 'react';\nimport { useState, useEffect } from 'react';\nimport { Route, Routes, useLocation, useNavigate } from 'react-router-dom';\nimport { useDispatch } from \"react-redux\";\nimport { getFav } from \"./redux/actions\";\nimport Cards from './components/CardsModule/Cards.jsx';\nimport Nav from './components/NavModule/Nav';\nimport axios from 'axios';\nimport About from './components/About/About.jsx';\nimport Detail from './components/Detail/Detail';\nimport Form from './components/Form/Form.jsx';\nimport Favorites from \"./components/Favorite/Favorite.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst URL = 'http://localhost:3001/rickandmorty/login/';\nfunction App() {\n  _s();\n  const {\n    pathname\n  } = useLocation();\n  const [characters, setCharacters] = useState([]);\n  const [access, setAccess] = useState(false);\n  const [userID, setUserID] = useState();\n  const dispatch = useDispatch();\n  const handleButtonClick = idUser => {\n    dispatch(getFav({\n      idUser\n    }));\n  };\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!access) navigate('/');\n  }, [access]);\n\n  //inicio de sesion y registro de usuario\n  async function login(userData) {\n    const {\n      correo,\n      contraseña,\n      confirmar\n    } = userData;\n    try {\n      if (confirmar.length == 0) {\n        const {\n          data\n        } = await axios.get(URL + `?email=${correo}&password=${contraseña}`);\n        const {\n          access,\n          id\n        } = data;\n        setAccess(access);\n        if (access) alert(\"Se inicio sesion correctamente\");\n        handleButtonClick(id);\n        setUserID(id);\n        access && navigate('/home');\n        return;\n      }\n      if (contraseña.length != 0) {\n        const {\n          data\n        } = await axios.post(URL + `?email=${correo}&password=${contraseña}&confirmar=${confirmar}`);\n        const {\n          access,\n          id\n        } = data;\n        setAccess(access);\n        if (access) alert(\"Se inicio sesion correctamente\");\n        handleButtonClick(id);\n        setUserID(id);\n        access && navigate('/home');\n        return;\n      }\n    } catch (error) {\n      alert(error.response.data.message);\n    }\n  }\n\n  //Busca las carta desde la api y verifica que no este agregada con anterioridad\n  async function onSearch(id) {\n    if (characters.some(obj => obj.id == id)) {\n      window.alert('Ya esta agregado.');\n    } else {\n      try {\n        const {\n          data\n        } = await axios(`http://localhost:3001/rickandmorty/character/${id}`);\n        if (data.name) {\n          setCharacters(oldChars => [...oldChars, data]);\n        } else {\n          window.alert('¡No hay personajes con este ID!');\n        }\n      } catch (error) {\n        alert(error.response.data.message);\n      }\n    }\n  }\n  //Elimina la carta cerrada y las actualiza filtrando\n  function onClose(id) {\n    setCharacters(characters.filter(obj => {\n      return obj.id != parseInt(id);\n    }));\n  }\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Container\",\n        children: [\" \", pathname == \"/\" && /*#__PURE__*/_jsxDEV(Form, {\n          login: login\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 53\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/home\",\n          element: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Nav, {\n              onSearch: id => onSearch(id),\n              setAccess: setAccess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Cards, {\n              onClose: id => onClose(id),\n              characters: characters,\n              userID: userID\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/favorites\",\n          element: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Nav, {\n              onSearch: id => onSearch(id),\n              setAccess: setAccess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 43\n            }, this), /*#__PURE__*/_jsxDEV(Favorites, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 103\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/about\",\n          element: /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/detail/:id\",\n          element: /*#__PURE__*/_jsxDEV(Detail, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 7\n  }, this);\n}\n_s(App, \"8loUaF7Y05ycSRbDHd+w03zNV3I=\", false, function () {\n  return [useLocation, useDispatch, useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Fragment","useState","useEffect","Route","Routes","useLocation","useNavigate","useDispatch","getFav","Cards","Nav","axios","About","Detail","Form","Favorites","jsxDEV","_jsxDEV","_Fragment","URL","App","_s","pathname","characters","setCharacters","access","setAccess","userID","setUserID","dispatch","handleButtonClick","idUser","navigate","login","userData","correo","contraseña","confirmar","length","data","get","id","alert","post","error","response","message","onSearch","some","obj","window","name","oldChars","onClose","filter","parseInt","children","className","fileName","_jsxFileName","lineNumber","columnNumber","path","element","_c","$RefreshReg$"],"sources":["C:/Users/USER/Desktop/ricky_and_morty/Client/Front/src/App.js"],"sourcesContent":["import './App.css';\r\nimport { Fragment } from 'react';\r\nimport { useState,useEffect } from 'react';\r\nimport { Route, Routes, useLocation, useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getFav } from \"./redux/actions\"\r\nimport Cards from './components/CardsModule/Cards.jsx';\r\nimport Nav from './components/NavModule/Nav';\r\nimport axios from 'axios';\r\nimport About from './components/About/About.jsx';\r\nimport Detail from './components/Detail/Detail';\r\nimport Form from './components/Form/Form.jsx';\r\nimport Favorites from \"./components/Favorite/Favorite.jsx\";\r\n\r\nconst URL = 'http://localhost:3001/rickandmorty/login/';\r\n\r\nfunction App() {\r\n\r\n   const {pathname} = useLocation()\r\n   const [characters,setCharacters]=useState([]);\r\n   const [access,setAccess]=useState(false);\r\n   const [userID,setUserID]=useState();\r\n   const dispatch=useDispatch();\r\n\r\n   const handleButtonClick = (idUser) => {\r\n      dispatch(getFav({idUser}));\r\n    };\r\n\r\n   const navigate = useNavigate();\r\n   useEffect(() => {\r\n      if(!access)navigate('/')\r\n   }, [access]);\r\n\r\n   //inicio de sesion y registro de usuario\r\n   async function login(userData) {\r\n      const { correo, contraseña , confirmar} = userData;\r\n      try {\r\n         if(confirmar.length==0){\r\n            const {data} = await axios.get(URL + `?email=${correo}&password=${contraseña}`)\r\n            const { access ,id} = data;\r\n            setAccess(access);\r\n            if(access)alert(\"Se inicio sesion correctamente\")\r\n            handleButtonClick(id); \r\n            setUserID(id)\r\n            access && navigate('/home');\r\n            return;\r\n         }\r\n        if(contraseña.length!=0){\r\n            const {data} = await axios.post(URL + `?email=${correo}&password=${contraseña}&confirmar=${confirmar}`)\r\n            const { access ,id} = data;\r\n            setAccess(access);\r\n            if(access)alert(\"Se inicio sesion correctamente\")\r\n            handleButtonClick(id);\r\n            setUserID(id)\r\n            access && navigate('/home');\r\n            return;\r\n         }\r\n      }catch (error) {\r\n         alert(error.response.data.message)\r\n      }\r\n   }\r\n \r\n//Busca las carta desde la api y verifica que no este agregada con anterioridad\r\n  async function onSearch(id) {\r\n      if(characters.some(obj=>obj.id == id )){\r\n         window.alert('Ya esta agregado.');\r\n      }else{\r\n         try{\r\n            const {data}= await axios(`http://localhost:3001/rickandmorty/character/${id}`)\r\n            if (data.name) {\r\n               setCharacters((oldChars) => [...oldChars, data]);\r\n            } else {\r\n               window.alert('¡No hay personajes con este ID!');\r\n            }\r\n          }catch(error){\r\n            alert(error.response.data.message)\r\n          }\r\n      }\r\n   }\r\n   //Elimina la carta cerrada y las actualiza filtrando\r\n   function onClose(id){\r\n      setCharacters(characters.filter(obj => {return obj.id != parseInt(id)}));\r\n   }\r\n\r\n   return (\r\n      <Fragment>\r\n      <div className='App'>\r\n      <div className=\"Container\"> {pathname==\"/\" && <Form login={login}></Form>}</div>  \r\n      <Routes>\r\n         <Route path=\"/home\" element={\r\n          <>\r\n            <Nav onSearch={(id) => onSearch(id)} \r\n            setAccess={setAccess}/>\r\n            <Cards onClose={(id) => onClose(id)} characters={characters} userID={userID}\r\n           />\r\n          </>\r\n        }\r\n      />\r\n      <Route path='/favorites' element={<><Nav onSearch={(id) => onSearch(id)} setAccess={setAccess}/><Favorites/></>}/>\r\n      <Route path='/about' element={<About></About>} />\r\n      <Route path='/detail/:id' element={<Detail></Detail>}/>\r\n      </Routes>\r\n      </div>\r\n      </Fragment>\r\n   );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}